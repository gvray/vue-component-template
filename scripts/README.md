# æ¸…ç†è„šæœ¬è¯´æ˜

æœ¬é¡¹ç›®æä¾›äº†å¤šä¸ªçº§åˆ«çš„æ¸…ç†è„šæœ¬ï¼Œå¸®åŠ©ä½ ç®¡ç†é¡¹ç›®çš„å„ç§æ–‡ä»¶å’Œç¼“å­˜ã€‚

## ğŸ“¦ æ¸…ç†è„šæœ¬

### ğŸ§¹ æ™®é€šæ¸…ç†

```bash
# æ¸…ç†æ„å»ºäº§ç‰©ï¼ˆæ¨èæ—¥å¸¸ä½¿ç”¨ï¼‰
pnpm clean
# æˆ–
pnpm run clean:build
```

**æ¸…ç†å†…å®¹:**

- `dist/` - æ ¹ç›®å½•æ„å»ºäº§ç‰©
- `packages/*/dist/` - å„åŒ…çš„distç›®å½•
- `packages/*/es/` - ESMæ„å»ºäº§ç‰©
- `packages/*/lib/` - CJSæ„å»ºäº§ç‰©
- `internal/*/dist/` - å†…éƒ¨å·¥å…·æ„å»ºäº§ç‰©
- `docs/.vitepress/dist/` - æ–‡æ¡£æ„å»ºäº§ç‰©
- `play/dist/` - æ¼”ç¤ºåº”ç”¨æ„å»ºäº§ç‰©

### ğŸ—‘ï¸ ç¼“å­˜æ¸…ç†

```bash
# æ¸…ç†å„ç§ç¼“å­˜æ–‡ä»¶
pnpm run clean:cache
```

**æ¸…ç†å†…å®¹:**

- `.vite/` - Viteç¼“å­˜
- `.turbo/` - Turboç¼“å­˜
- `node_modules/.cache/` - npmç¼“å­˜
- `.eslintcache` - ESLintç¼“å­˜
- `*.tsbuildinfo` - TypeScriptå¢é‡ç¼–è¯‘ä¿¡æ¯

### ğŸ’£ æ·±åº¦æ¸…ç†

```bash
# æ¸…ç†æ‰€æœ‰ä¾èµ–ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
pnpm run clean:deps
```

**æ¸…ç†å†…å®¹:**

- `node_modules/` - æ‰€æœ‰ä¾èµ–
- `packages/*/node_modules/` - å„åŒ…ä¾èµ–
- `internal/*/node_modules/` - å†…éƒ¨å·¥å…·ä¾èµ–
- `docs/node_modules/` - æ–‡æ¡£ä¾èµ–
- `play/node_modules/` - æ¼”ç¤ºåº”ç”¨ä¾èµ–
- `pnpm-lock.yaml` - é”å®šæ–‡ä»¶

### ğŸ”„ å®Œå…¨é‡ç½®

```bash
# æ¸…ç†æ‰€æœ‰å†…å®¹ï¼ˆæ„å»ºäº§ç‰© + ç¼“å­˜ + ä¾èµ–ï¼‰
pnpm run clean:all

# æ¸…ç†å¹¶é‡æ–°å®‰è£…ä¾èµ–
pnpm run reset
```

## ğŸš¨ ä½¿ç”¨å»ºè®®

### æ—¥å¸¸å¼€å‘

```bash
# é‡åˆ°æ„å»ºé—®é¢˜æ—¶
pnpm clean

# é‡åˆ°ç¼“å­˜é—®é¢˜æ—¶
pnpm run clean:cache
```

### æ•…éšœæ’æŸ¥

```bash
# é‡åˆ°ä¾èµ–é—®é¢˜æ—¶
pnpm run reset
```

### CI/CDç¯å¢ƒ

```bash
# ç¡®ä¿å¹²å‡€ç¯å¢ƒ
pnpm run clean:all
pnpm install
```

## âš¡ è„šæœ¬æ€§èƒ½

| è„šæœ¬          | è€—æ—¶ | ç£ç›˜ç©ºé—´é‡Šæ”¾      | ä½¿ç”¨é¢‘ç‡ |
| ------------- | ---- | ----------------- | -------- |
| `clean:build` | ~1s  | ~50MB             | é«˜       |
| `clean:cache` | ~2s  | ~100MB            | ä¸­       |
| `clean:deps`  | ~5s  | ~500MB            | ä½       |
| `clean:all`   | ~8s  | ~650MB            | ä½       |
| `reset`       | ~30s | ~650MB â†’ é‡æ–°ä¸‹è½½ | ä½       |

## ğŸ”§ è‡ªå®šä¹‰æ¸…ç†

ä½ å¯ä»¥æ ¹æ®éœ€è¦æ·»åŠ è‡ªå®šä¹‰æ¸…ç†å‘½ä»¤ï¼š

```json
{
  "scripts": {
    "clean:logs": "rimraf logs/ *.log",
    "clean:temp": "rimraf temp/ *.tmp",
    "clean:custom": "rimraf your-custom-files/"
  }
}
```

## ğŸ’¡ æœ€ä½³å®è·µ

1. **å¼€å‘å‰æ¸…ç†**: `pnpm clean` - ç¡®ä¿æ„å»ºäº§ç‰©æ˜¯æœ€æ–°çš„
2. **é‡åˆ°é—®é¢˜æ—¶**: `pnpm run clean:cache` - æ¸…ç†å¯èƒ½çš„ç¼“å­˜é—®é¢˜
3. **ä¾èµ–æ›´æ–°å**: `pnpm run reset` - ç¡®ä¿ä¾èµ–å®‰è£…æ­£ç¡®
4. **å®šæœŸç»´æŠ¤**: æ¯å‘¨è¿è¡Œä¸€æ¬¡ `pnpm run clean:all` é‡Šæ”¾ç£ç›˜ç©ºé—´
5. **CI/CD**: ä½¿ç”¨ `pnpm run clean:all` ç¡®ä¿ç¯å¢ƒå¹²å‡€

## ğŸš§ æ³¨æ„äº‹é¡¹

- `clean:deps` ä¼šåˆ é™¤æ‰€æœ‰ä¾èµ–ï¼Œéœ€è¦é‡æ–°å®‰è£…
- `clean:all` æ˜¯ç ´åæ€§æ“ä½œï¼Œè¯·ç¡®ä¿æ²¡æœ‰æœªä¿å­˜çš„å·¥ä½œ
- `reset` ä¼šé‡æ–°ä¸‹è½½æ‰€æœ‰ä¾èµ–ï¼Œéœ€è¦ç½‘ç»œè¿æ¥
- åœ¨æ‰§è¡Œæ·±åº¦æ¸…ç†å‰ï¼Œå»ºè®®å…ˆæäº¤ä»£ç åˆ°git
